class E{constructor(e){this.properties=e!=null?e:[]}get(e){const n=this.properties.filter(r=>r.name===e).map(r=>r.value);if(n.length>1)throw new Error('Expected only one property to be named "'+e+'"');if(n.length!==0)return n[0]}getString(e){return this.getByType(e,"string")}getNumber(e){return this.getByType(e,"number")}getBoolean(e){return this.getByType(e,"boolean")}getByType(e,n){const r=this.get(e);if(r!==void 0){if(n!=="json"&&typeof r!==n)throw new Error('Expected property "'+e+'" to have type "'+n+'"');return r}}mustGetString(e){return this.mustGetByType(e,"string")}mustGetNumber(e){return this.mustGetByType(e,"number")}mustGetBoolean(e){return this.mustGetByType(e,"boolean")}mustGetByType(e,n){const r=this.get(e);if(r===void 0)throw new Error('Property "'+e+'" is missing');if(n!=="json"&&typeof r!==n)throw new Error('Expected property "'+e+'" to have type "'+n+'"');return r}getType(e){const n=this.properties.filter(r=>r.name===e).map(r=>r.type);if(n.length>1)throw new Error('Expected only one property to be named "'+e+'"');if(n.length!==0)return n[0]}}const j="https://unpkg.com/@workadventure/scripting-api-extra@1.4.4/dist";class ne{constructor(e){this.name=e.name,this.x=e.x,this.y=e.y,this.properties=new E(e.properties)}get isReadable(){const e=this.properties.getString("readableBy");return e?WA.player.tags.includes(e):!0}get isWritable(){const e=this.properties.getString("writableBy");return e?WA.player.tags.includes(e):!0}}function H(t){const e=t?"#"+t.join():"";WA.nav.openCoWebSite(j+"/configuration.html"+e)}async function re(t,e){const n=await WA.room.getTiledMap(),r=new Map;return Z(n.layers,r,t,e),r}function Z(t,e,n,r){for(const o of t)if(o.type==="objectgroup"){for(const s of o.objects)if(s.type==="variable"||s.class==="variable"){if(!!n&&o.name!==n||!!r&&!r.includes(s.name))continue;e.set(s.name,new ne(s))}}else o.type==="group"&&Z(o.layers,e,n,r)}let I;async function V(){return I===void 0&&(I=oe()),I}async function oe(){return se(await WA.room.getTiledMap())}function se(t){const e=new Map;return X(t.layers,"",e),e}function X(t,e,n){for(const r of t)r.type==="group"?X(r.layers,e+r.name+"/",n):(r.name=e+r.name,n.set(r.name,r))}function ae(t){let e=1/0,n=1/0,r=0,o=0;const s=t.data;if(typeof s=="string")throw new Error("Unsupported tile layer data stored as string instead of CSV");for(let a=0;a<t.height;a++)for(let i=0;i<t.width;i++)s[i+a*t.width]!==0&&(e=Math.min(e,i),o=Math.max(o,i),n=Math.min(n,a),r=Math.max(r,a));return{top:n,left:e,right:o+1,bottom:r+1}}function Q(t){let e=1/0,n=1/0,r=0,o=0;for(const s of t){const a=ae(s);a.left<e&&(e=a.left),a.top<n&&(n=a.top),a.right>o&&(o=a.right),a.bottom>r&&(r=a.bottom)}return{top:n,left:e,right:o,bottom:r}}/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var ie=Object.prototype.toString,L=Array.isArray||function(e){return ie.call(e)==="[object Array]"};function N(t){return typeof t=="function"}function ue(t){return L(t)?"array":typeof t}function z(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function O(t,e){return t!=null&&typeof t=="object"&&e in t}function le(t,e){return t!=null&&typeof t!="object"&&t.hasOwnProperty&&t.hasOwnProperty(e)}var ce=RegExp.prototype.test;function pe(t,e){return ce.call(t,e)}var fe=/\S/;function he(t){return!pe(fe,t)}var de={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function ge(t){return String(t).replace(/[&<>"'`=\/]/g,function(n){return de[n]})}var ye=/\s*/,me=/\s+/,_=/\s*=/,ve=/\s*\}/,be=/#|\^|\/|>|\{|&|=|!/;function we(t,e){if(!t)return[];var n=!1,r=[],o=[],s=[],a=!1,i=!1,u="",c=0;function p(){if(a&&!i)for(;s.length;)delete o[s.pop()];else s=[];a=!1,i=!1}var g,m,R;function C(b){if(typeof b=="string"&&(b=b.split(me,2)),!L(b)||b.length!==2)throw new Error("Invalid tags: "+b);g=new RegExp(z(b[0])+"\\s*"),m=new RegExp("\\s*"+z(b[1])),R=new RegExp("\\s*"+z("}"+b[1]))}C(e||d.tags);for(var l=new B(t),v,h,y,k,G,A;!l.eos();){if(v=l.pos,y=l.scanUntil(g),y)for(var x=0,te=y.length;x<te;++x)k=y.charAt(x),he(k)?(s.push(o.length),u+=k):(i=!0,n=!0,u+=" "),o.push(["text",k,v,v+1]),v+=1,k===`
`&&(p(),u="",c=0,n=!1);if(!l.scan(g))break;if(a=!0,h=l.scan(be)||"name",l.scan(ye),h==="="?(y=l.scanUntil(_),l.scan(_),l.scanUntil(m)):h==="{"?(y=l.scanUntil(R),l.scan(ve),l.scanUntil(m),h="&"):y=l.scanUntil(m),!l.scan(m))throw new Error("Unclosed tag at "+l.pos);if(h==">"?G=[h,y,v,l.pos,u,c,n]:G=[h,y,v,l.pos],c++,o.push(G),h==="#"||h==="^")r.push(G);else if(h==="/"){if(A=r.pop(),!A)throw new Error('Unopened section "'+y+'" at '+v);if(A[1]!==y)throw new Error('Unclosed section "'+A[1]+'" at '+v)}else h==="name"||h==="{"||h==="&"?i=!0:h==="="&&C(y)}if(p(),A=r.pop(),A)throw new Error('Unclosed section "'+A[1]+'" at '+l.pos);return We(Ae(o))}function Ae(t){for(var e=[],n,r,o=0,s=t.length;o<s;++o)n=t[o],n&&(n[0]==="text"&&r&&r[0]==="text"?(r[1]+=n[1],r[3]=n[3]):(e.push(n),r=n));return e}function We(t){for(var e=[],n=e,r=[],o,s,a=0,i=t.length;a<i;++a)switch(o=t[a],o[0]){case"#":case"^":n.push(o),r.push(o),n=o[4]=[];break;case"/":s=r.pop(),s[5]=o[2],n=r.length>0?r[r.length-1][4]:e;break;default:n.push(o)}return e}function B(t){this.string=t,this.tail=t,this.pos=0}B.prototype.eos=function(){return this.tail===""};B.prototype.scan=function(e){var n=this.tail.match(e);if(!n||n.index!==0)return"";var r=n[0];return this.tail=this.tail.substring(r.length),this.pos+=r.length,r};B.prototype.scanUntil=function(e){var n=this.tail.search(e),r;switch(n){case-1:r=this.tail,this.tail="";break;case 0:r="";break;default:r=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=r.length,r};function S(t,e){this.view=t,this.cache={".":this.view},this.parent=e}S.prototype.push=function(e){return new S(e,this)};S.prototype.lookup=function(e){var n=this.cache,r;if(n.hasOwnProperty(e))r=n[e];else{for(var o=this,s,a,i,u=!1;o;){if(e.indexOf(".")>0)for(s=o.view,a=e.split("."),i=0;s!=null&&i<a.length;)i===a.length-1&&(u=O(s,a[i])||le(s,a[i])),s=s[a[i++]];else s=o.view[e],u=O(o.view,e);if(u){r=s;break}o=o.parent}n[e]=r}return N(r)&&(r=r.call(this.view)),r};function f(){this.templateCache={_cache:{},set:function(e,n){this._cache[e]=n},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}f.prototype.clearCache=function(){typeof this.templateCache!="undefined"&&this.templateCache.clear()};f.prototype.parse=function(e,n){var r=this.templateCache,o=e+":"+(n||d.tags).join(":"),s=typeof r!="undefined",a=s?r.get(o):void 0;return a==null&&(a=we(e,n),s&&r.set(o,a)),a};f.prototype.render=function(e,n,r,o){var s=this.getConfigTags(o),a=this.parse(e,s),i=n instanceof S?n:new S(n,void 0);return this.renderTokens(a,i,r,e,o)};f.prototype.renderTokens=function(e,n,r,o,s){for(var a="",i,u,c,p=0,g=e.length;p<g;++p)c=void 0,i=e[p],u=i[0],u==="#"?c=this.renderSection(i,n,r,o,s):u==="^"?c=this.renderInverted(i,n,r,o,s):u===">"?c=this.renderPartial(i,n,r,s):u==="&"?c=this.unescapedValue(i,n):u==="name"?c=this.escapedValue(i,n,s):u==="text"&&(c=this.rawValue(i)),c!==void 0&&(a+=c);return a};f.prototype.renderSection=function(e,n,r,o,s){var a=this,i="",u=n.lookup(e[1]);function c(m){return a.render(m,n,r,s)}if(!!u){if(L(u))for(var p=0,g=u.length;p<g;++p)i+=this.renderTokens(e[4],n.push(u[p]),r,o,s);else if(typeof u=="object"||typeof u=="string"||typeof u=="number")i+=this.renderTokens(e[4],n.push(u),r,o,s);else if(N(u)){if(typeof o!="string")throw new Error("Cannot use higher-order sections without the original template");u=u.call(n.view,o.slice(e[3],e[5]),c),u!=null&&(i+=u)}else i+=this.renderTokens(e[4],n,r,o,s);return i}};f.prototype.renderInverted=function(e,n,r,o,s){var a=n.lookup(e[1]);if(!a||L(a)&&a.length===0)return this.renderTokens(e[4],n,r,o,s)};f.prototype.indentPartial=function(e,n,r){for(var o=n.replace(/[^ \t]/g,""),s=e.split(`
`),a=0;a<s.length;a++)s[a].length&&(a>0||!r)&&(s[a]=o+s[a]);return s.join(`
`)};f.prototype.renderPartial=function(e,n,r,o){if(!!r){var s=this.getConfigTags(o),a=N(r)?r(e[1]):r[e[1]];if(a!=null){var i=e[6],u=e[5],c=e[4],p=a;u==0&&c&&(p=this.indentPartial(a,c,i));var g=this.parse(p,s);return this.renderTokens(g,n,r,p,o)}}};f.prototype.unescapedValue=function(e,n){var r=n.lookup(e[1]);if(r!=null)return r};f.prototype.escapedValue=function(e,n,r){var o=this.getConfigEscape(r)||d.escape,s=n.lookup(e[1]);if(s!=null)return typeof s=="number"&&o===d.escape?String(s):o(s)};f.prototype.rawValue=function(e){return e[1]};f.prototype.getConfigTags=function(e){return L(e)?e:e&&typeof e=="object"?e.tags:void 0};f.prototype.getConfigEscape=function(e){if(e&&typeof e=="object"&&!L(e))return e.escape};var d={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){T.templateCache=t},get templateCache(){return T.templateCache}},T=new f;d.clearCache=function(){return T.clearCache()};d.parse=function(e,n){return T.parse(e,n)};d.render=function(e,n,r,o){if(typeof e!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+ue(e)+'" was given as the first argument for mustache#render(template, view, partials)');return T.render(e,n,r,o)};d.escape=ge;d.Scanner=B;d.Context=S;d.Writer=f;class Se{constructor(e,n){this.template=e,this.state=n,this.ast=d.parse(e)}getValue(){return this.value===void 0&&(this.value=d.render(this.template,this.state)),this.value}onChange(e){const n=[];for(const r of this.getUsedVariables().values())n.push(this.state.onVariableChange(r).subscribe(()=>{const o=d.render(this.template,this.state);o!==this.value&&(this.value=o,e(this.value))}));return{unsubscribe:()=>{for(const r of n)r.unsubscribe()}}}isPureString(){return this.ast.length===0||this.ast.length===1&&this.ast[0][0]==="text"}getUsedVariables(){const e=new Set;return this.recursiveGetUsedVariables(this.ast,e),e}recursiveGetUsedVariables(e,n){for(const r of e){const o=r[0],s=r[1],a=r[4];["name","&","#","^"].includes(o)&&n.add(s),a!==void 0&&typeof a!="string"&&this.recursiveGetUsedVariables(a,n)}}}async function Le(){var t;const e=await V();for(const[n,r]of e.entries()){const o=(t=r.properties)!==null&&t!==void 0?t:[];for(const s of o){if(s.type==="int"||s.type==="bool"||s.type==="object"||typeof s.value!="string")continue;const a=new Se(s.value,WA.state);if(a.isPureString())continue;const i=a.getValue();K(n,s.name,i),a.onChange(u=>{K(n,s.name,u)})}}}function K(t,e,n){WA.room.setProperty(t,e,n),e==="visible"&&(n?WA.room.showLayer(t):WA.room.hideLayer(t))}let q,U=0,D=0;function Y(t){if(WA.state[t.name]){let e=t.properties.mustGetString("openLayer");for(const n of e.split(`
`))WA.room.showLayer(n);e=t.properties.mustGetString("closeLayer");for(const n of e.split(`
`))WA.room.hideLayer(n)}else{let e=t.properties.mustGetString("openLayer");for(const n of e.split(`
`))WA.room.hideLayer(n);e=t.properties.mustGetString("closeLayer");for(const n of e.split(`
`))WA.room.showLayer(n)}}function Ce(t){const e=t.properties.getString("openSound"),n=t.properties.getNumber("soundRadius");let r=1;if(n){const o=ee(t.properties.mustGetString("openLayer").split(`
`));if(o>n)return;r=1-o/n}e&&WA.sound.loadSound(e).play({volume:r})}function ke(t){const e=t.properties.getString("closeSound"),n=t.properties.getNumber("soundRadius");let r=1;if(n){const o=ee(t.properties.mustGetString("closeLayer").split(`
`));if(o>n)return;r=1-o/n}e&&WA.sound.loadSound(e).play({volume:r})}function F(t){return t.map(e=>q.get(e)).filter(e=>(e==null?void 0:e.type)==="tilelayer")}function ee(t){const e=F(t),n=Q(e),r=((n.right-n.left)/2+n.left)*32,o=((n.bottom-n.top)/2+n.top)*32;return Math.sqrt(Math.pow(U-r,2)+Math.pow(D-o,2))}function Me(t){WA.state.onVariableChange(t.name).subscribe(()=>{WA.state[t.name]?Ce(t):ke(t),Y(t)}),Y(t)}function Pe(t,e,n,r){const o=t.name;let s,a,i=!1;const u=n.getString("tag");let c=!0;u&&!WA.player.tags.includes(u)&&(c=!1);const p=!!u;function g(){var l;s&&s.remove(),s=WA.ui.displayActionMessage({message:(l=n.getString("closeTriggerMessage"))!==null&&l!==void 0?l:"Press SPACE to close the door",callback:()=>{WA.state[e.name]=!1,m()}})}function m(){var l;s&&s.remove(),s=WA.ui.displayActionMessage({message:(l=n.getString("openTriggerMessage"))!==null&&l!==void 0?l:"Press SPACE to open the door",callback:()=>{WA.state[e.name]=!0,g()}})}function R(l){const v=Q(F(e.properties.mustGetString("closeLayer").split(`
`)));a=WA.room.website.create({name:"doorKeypad"+l,url:r+"/keypad.html#"+encodeURIComponent(l),position:{x:v.right*32,y:v.top*32,width:32*3,height:32*4},allowApi:!0})}function C(){a&&(WA.room.website.delete(a.name),a=void 0)}WA.room.onEnterLayer(o).subscribe(()=>{if(i=!0,n.getBoolean("autoOpen")&&c){WA.state[e.name]=!0;return}if(!WA.state[e.name]&&(p&&!c||!p)&&(n.getString("code")||n.getString("codeVariable"))){R(o);return}!c||(WA.state[e.name]?g():m())}),WA.room.onLeaveLayer(o).subscribe(()=>{i=!1,n.getBoolean("autoClose")&&(WA.state[e.name]=!1),s&&s.remove(),C()}),WA.state.onVariableChange(e.name).subscribe(()=>{i&&(!n.getBoolean("autoClose")&&WA.state[e.name]===!0&&g(),a&&WA.state[e.name]===!0&&C(),!n.getBoolean("autoOpen")&&WA.state[e.name]===!1&&m())})}function Ee(t){const e=t.properties.mustGetString("bellSound"),n=t.properties.getNumber("soundRadius");let r=1;if(n){const o=Math.sqrt(Math.pow(t.x-U,2)+Math.pow(t.y-D,2));if(o>n)return;r=1-o/n}WA.sound.loadSound(e).play({volume:r})}function Te(t){WA.state[t.name]===void 0&&(WA.state[t.name]=0),WA.state.onVariableChange(t.name).subscribe(()=>{WA.state[t.name]&&Ee(t)})}function Be(t,e,n){let r;const o=e.getString("bellPopup");WA.room.onEnterLayer(n).subscribe(()=>{var s;o?r=WA.ui.openPopup(o,"",[{label:(s=e.getString("bellButtonText"))!==null&&s!==void 0?s:"Ring",callback:()=>{WA.state[t]=WA.state[t]+1}}]):WA.state[t]=WA.state[t]+1}),WA.room.onLeaveLayer(n).subscribe(()=>{r&&(r.close(),r=void 0)})}async function Re(t){t=t!=null?t:j;const e=await re();q=await V();for(const n of e.values())n.properties.get("door")&&Me(n),n.properties.get("bell")&&Te(n);for(const n of q.values()){const r=new E(n.properties),o=r.getString("doorVariable");if(o&&n.type==="tilelayer"){const a=e.get(o);if(a===void 0)throw new Error('Cannot find variable "'+o+'" referred in the "doorVariable" property of layer "'+n.name+'"');Pe(n,a,r,t)}const s=r.getString("bellVariable");s&&Be(s,r,n.name)}WA.player.onPlayerMove(n=>{U=n.x,D=n.y})}function Ge(t,e){const n=t.getString("bindVariable");if(n){const r=t.get("enterValue"),o=t.get("leaveValue"),s=t.getString("triggerMessage"),a=t.getString("tag");Ve(n,e,r,o,s,a)}}function Ve(t,e,n,r,o,s){s&&!WA.player.tags.includes(s)||(n!==void 0&&WA.room.onEnterLayer(e).subscribe(()=>{o||(WA.state[t]=n)}),r!==void 0&&WA.room.onLeaveLayer(e).subscribe(()=>{WA.state[t]=r}))}async function xe(){const t=await V();for(const e of t.values()){const n=new E(e.properties);Ge(n,e.name)}}let J;async function Ie(t){const e=await WA.room.getTiledMap();t=t!=null?t:j,J=await V();const n=e.layers.find(r=>r.name==="configuration");if(n){const o=new E(n.properties).getString("tag");(!o||WA.player.tags.includes(o))&&WA.ui.registerMenuCommand("Configure the room",()=>{WA.nav.openCoWebSite(t+"/configuration.html",!0)});for(const s of J.values()){const a=new E(s.properties),i=a.getString("openConfig");i&&s.type==="tilelayer"&&ze(i.split(","),s.name,a)}}}function ze(t,e,n){let r;const o=n.getString("openConfigAdminTag");let s=!0;o&&!WA.player.tags.includes(o)&&(s=!1);function a(){var u;r&&r.remove(),r=WA.ui.displayActionMessage({message:(u=n.getString("openConfigTriggerMessage"))!==null&&u!==void 0?u:"Press SPACE or touch here to configure",callback:()=>H(t)})}function i(){WA.nav.closeCoWebSite()}WA.room.onEnterLayer(e).subscribe(()=>{const u=n.getString("openConfigTrigger");s&&(u&&u==="onaction"?a():H(t))}),WA.room.onLeaveLayer(e).subscribe(()=>{r&&r.remove(),i()})}function qe(){return WA.onInit().then(()=>{Re().catch(t=>console.error(t)),xe().catch(t=>console.error(t)),Ie().catch(t=>console.error(t)),Le().catch(t=>console.error(t))}).catch(t=>console.error(t))}console.log("Script started successfully");let w,P;WA.onInit().then(()=>{console.log("Scripting API ready"),console.log("Player tags: ",WA.player.tags),WA.room.onEnterLayer("npclabzone").subscribe(()=>{w=WA.ui.openPopup("npclabpop","Hello Wanderer! I see you are looking for treasures and adventures too! Mountains of Gold are waiting for you in the graveyard of ships. If you make it through the maze\u2026 ",[]);var t=WA.sound.loadSound("npc/lab.mp3");t.play(W),WA.chat.sendChatMessage("This legend is so mysterious, that actually no one knows anymore what it is about\u2026 No one remembers who is she and where she came from, but there is a Legend about this Legend that says - No-Named Lady guards the entrance to the maze and will do everything to not let you through on the other side. Dont listen to her and - RUN!!! Find the exit!","No-Named Lady")}),WA.room.onLeaveLayer("npclabzone").subscribe(M),WA.room.onEnterLayer("npcartzone").subscribe(()=>{w=WA.ui.openPopup("npcartpop","Do you believe in magic? Neither did I, until the witch turned me into a skeleton. Help me to break the curse by writing the magic symbol Sei.",[]);var t=WA.sound.loadSound("npc/art.mp3");t.play(W),WA.chat.sendChatMessage("Once upon a time there were Gods in the SeiVerse, and one of them - The God of the Content, known as The Lord of the Robots, has lost his inspiration, and since then no one saw even one single drawing from him\u2026 You have to help him to get back his talent! Please draw the SeiNetwork logo on one of the dashboards (dont forget to press the SPACE bar to be able to draw!). But HURRY UP - the boards will be closed in 30 minutes!","Skeleton")}),WA.room.onLeaveLayer("npcartzone").subscribe(M),WA.room.onEnterLayer("npcquokkazone").subscribe(()=>{w=WA.ui.openPopup("npcquokkapop","Hello, Seilor! Can you answer my questions? Let's see if the salty wind has blown the brain out of your head.",[]);var t=WA.sound.loadSound("npc/mouse.mp3");t.play(W),WA.chat.sendChatMessage("Since the beginning of time, he was known as The Keen Eye - no one could hide from him, nothing could be hidden\u2026 He sees everyone and everything. His mission on SeiVerse is to find all the evil and destroy it. You will need to complete the quiz - answer 8 questions, if you do this right - you will pass this quiz. Remember about the saving boards - there are 8 boards where you can find all the hints\u2026 Good luck!","Zaragoosa")}),WA.room.onLeaveLayer("npcquokkazone").subscribe(M),WA.room.onEnterLayer("npcjackzone").subscribe(()=>{w=WA.ui.openPopup("npcjackpop","Hello, Seilor! I hid the treasure under the tree and forgot which one. Help me to find it!",[]);var t=WA.sound.loadSound("npc/horse.mp3");t.play(W),WA.chat.sendChatMessage("The other Legend, very old and quite depressive is about the famous Horse-Man - BoJack The Lost. No one remembers these days what actually happened, and there are a lot of rumors, but the fact is that he had a treasure, that he hid in the Ambassadors Jungle and now he cant remember where. So you need to help him to find it. Dig, seilor, DIG!","BoJack")}),WA.room.onLeaveLayer("npcjackzone").subscribe(M),WA.room.onEnterLayer("kladzone").subscribe(()=>{P=WA.ui.displayActionMessage({message:"Press SPACE to dig",callback:()=>{var t=WA.sound.loadSound("npc/klad.mp3");t.play(W),WA.chat.sendChatMessage("Nothing in here","You")}})}),WA.room.onLeaveLayer("kladzone").subscribe($),WA.room.onEnterLayer("kladwinzone").subscribe(()=>{P=WA.ui.displayActionMessage({message:"Press SPACE to dig",callback:()=>{WA.nav.openCoWebSite("https://icodrops.com/wp-content/uploads/2022/06/SryHMGDk_400x400.jpg",!0,"",70,1,!0,!1);var t=WA.sound.loadSound("npc/kladwin.mp3");t.play(W)}})}),WA.room.onLeaveLayer("kladwinzone").subscribe($),WA.room.onEnterLayer("qdoorzone").subscribe(()=>{w=WA.ui.openPopup("npcdoorpop","The text of the four tombstones, the password to the treasure keeps.",[]);var t=WA.sound.loadSound("npc/ghost.mp3");t.play(W),WA.chat.sendChatMessage("There is a Legend about the Validator. He came to get the treasure. He was brave and strong. But the evil witch made him forget all he knew and he forgot about the updates for the node. Since then he is just a ghost of a validator, lost his power\u2026 Help him to find his peace! Answer the questions, get the code and open the door!","Ghost of Validator")}),WA.room.onLeaveLayer("qdoorzone").subscribe(M),qe().then(()=>{console.log("Scripting API Extra ready")}).catch(t=>console.error(t))}).catch(t=>console.error(t));function M(){w!==void 0&&(w.close(),w=void 0)}function $(){P!==void 0&&(P.remove(),P=void 0)}var W={volume:1,loop:!1,rate:1,detune:1,delay:0,seek:0,mute:!1};
